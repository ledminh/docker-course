<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2: Docker Architecture and CLI Fundamentals - Docker Course</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüê≥%3C/text%3E%3C/svg%3E">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <span class="logo-icon">üê≥</span>
                <span class="logo-text">Docker Course</span>
            </div>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="#" class="active">Module 2</a>
            </div>
        </div>
    </nav>

    <header class="module-header">
        <div class="container">
            <h1>Module 2: Docker Architecture and CLI Fundamentals</h1>
            <p>Master Docker's client-server architecture and essential CLI commands</p>
            <div class="module-nav">
                <a href="module1.html" class="btn btn-secondary">‚Üê Previous Module</a>
                <a href="module3.html" class="btn btn-primary">Next Module ‚Üí</a>
            </div>
        </div>
    </header>

    <div class="progress-indicator">
        <h4>Module Progress</h4>
        <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
        </div>
    </div>

    <main class="module-content">
        <section class="objectives">
            <h3>üéØ Learning Objectives</h3>
            <ul>
                <li>Describe Docker's client-server architecture and component roles</li>
                <li>Understand how the Docker client communicates with the daemon via REST API</li>
                <li>Use basic CLI commands to manage images and containers</li>
                <li>Explain the role of Docker registries in image distribution</li>
            </ul>
        </section>

        <section class="content-section">
            <h2>Docker Architecture Overview</h2>
            <p>
                Docker uses a client-server architecture. Understanding this architecture is crucial for working effectively with Docker.
            </p>

            <div class="diagram">
                <h3>Docker Client-Server Architecture</h3>
                <svg viewBox="0 0 700 400" style="max-width: 700px; margin: 0 auto; display: block;">
                    <!-- Docker Client -->
                    <g>
                        <rect x="50" y="150" width="150" height="100" fill="#0db7ed" opacity="0.9" rx="8"/>
                        <text x="125" y="180" text-anchor="middle" fill="white" font-size="16" font-weight="bold">Docker Client</text>
                        <text x="125" y="200" text-anchor="middle" fill="white" font-size="12">(CLI)</text>
                        <text x="125" y="220" text-anchor="middle" fill="white" font-size="11">docker build</text>
                        <text x="125" y="235" text-anchor="middle" fill="white" font-size="11">docker run</text>
                    </g>
                    
                    <!-- Docker Host -->
                    <g>
                        <rect x="270" y="50" width="380" height="300" fill="#f0f0f0" stroke="#384d54" stroke-width="3" rx="8"/>
                        <text x="460" y="80" text-anchor="middle" fill="#384d54" font-size="16" font-weight="bold">Docker Host</text>
                        
                        <!-- Docker Daemon -->
                        <rect x="290" y="100" width="340" height="80" fill="#384d54" opacity="0.9" rx="5"/>
                        <text x="460" y="130" text-anchor="middle" fill="white" font-size="14" font-weight="bold">Docker Daemon (dockerd)</text>
                        <text x="460" y="150" text-anchor="middle" fill="white" font-size="11">Manages containers, images,</text>
                        <text x="460" y="165" text-anchor="middle" fill="white" font-size="11">networks, and volumes</text>
                        
                        <!-- Containers -->
                        <g>
                            <rect x="295" y="200" width="90" height="60" fill="#2496ed" opacity="0.8" rx="5"/>
                            <text x="340" y="225" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Container 1</text>
                            <text x="340" y="245" text-anchor="middle" fill="white" font-size="10">Running</text>
                        </g>
                        <g>
                            <rect x="395" y="200" width="90" height="60" fill="#2496ed" opacity="0.8" rx="5"/>
                            <text x="440" y="225" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Container 2</text>
                            <text x="440" y="245" text-anchor="middle" fill="white" font-size="10">Running</text>
                        </g>
                        <g>
                            <rect x="495" y="200" width="90" height="60" fill="#90caf9" opacity="0.8" rx="5"/>
                            <text x="540" y="225" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Container 3</text>
                            <text x="540" y="245" text-anchor="middle" fill="white" font-size="10">Stopped</text>
                        </g>
                        
                        <!-- Images -->
                        <g>
                            <rect x="295" y="275" width="290" height="60" fill="#1976d2" opacity="0.7" rx="5"/>
                            <text x="440" y="300" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Local Images</text>
                            <text x="440" y="320" text-anchor="middle" fill="white" font-size="10">nginx:latest | ubuntu:20.04 | python:3.9</text>
                        </g>
                    </g>
                    
                    <!-- Docker Registry -->
                    <g>
                        <rect x="270" y="380" width="190" height="80" fill="#0db7ed" opacity="0.9" rx="8"/>
                        <text x="365" y="410" text-anchor="middle" fill="white" font-size="16" font-weight="bold">Docker Registry</text>
                        <text x="365" y="430" text-anchor="middle" fill="white" font-size="12">(Docker Hub)</text>
                        <text x="365" y="450" text-anchor="middle" fill="white" font-size="10">Public & Private Images</text>
                    </g>
                    
                    <!-- Arrows -->
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#0db7ed" />
                        </marker>
                    </defs>
                    
                    <!-- Client to Daemon -->
                    <line x1="200" y1="200" x2="265" y2="140" stroke="#0db7ed" stroke-width="3" marker-end="url(#arrow)"/>
                    <text x="230" y="165" fill="#0db7ed" font-size="11" font-weight="bold">REST API</text>
                    
                    <!-- Daemon to Registry -->
                    <line x1="365" y1="350" x2="365" y2="375" stroke="#0db7ed" stroke-width="3" marker-end="url(#arrow)"/>
                    <text x="380" y="365" fill="#0db7ed" font-size="11">pull/push</text>
                </svg>
            </div>

            <h3>Key Components</h3>
            
            <div class="about-grid" style="margin-top: 2rem;">
                <div class="about-card">
                    <div class="about-icon">üíª</div>
                    <h3>Docker Client</h3>
                    <p>Command-line tool (docker) that users interact with. Sends commands to the daemon via REST API.</p>
                </div>
                
                <div class="about-card">
                    <div class="about-icon">‚öôÔ∏è</div>
                    <h3>Docker Daemon</h3>
                    <p>Background service (dockerd) that manages Docker objects: images, containers, networks, and volumes.</p>
                </div>
                
                <div class="about-card">
                    <div class="about-icon">üì¶</div>
                    <h3>Docker Registry</h3>
                    <p>Stores Docker images. Docker Hub is the default public registry. Organizations can run private registries.</p>
                </div>
            </div>

            <div class="info-box">
                <h4>üîç How It Works</h4>
                <p>
                    When you run <code>docker run nginx</code>, the client sends the command to the daemon via REST API. 
                    The daemon checks if the nginx image exists locally. If not, it pulls it from Docker Hub. Then it creates 
                    and starts a new container from that image.
                </p>
            </div>
        </section>

        <section class="content-section">
            <h2>Essential Docker CLI Commands</h2>
            
            <h3>Working with Images</h3>
            
            <div class="code-header">List all images on your system</div>
            <div class="code-block">
<pre><code>docker images
# or
docker image ls</code></pre>
            </div>

            <div class="code-header">Pull an image from Docker Hub</div>
            <div class="code-block">
<pre><code>docker pull nginx
docker pull ubuntu:20.04
docker pull python:3.9-slim</code></pre>
            </div>

            <div class="code-header">Remove an image</div>
            <div class="code-block">
<pre><code>docker rmi nginx
# or use image ID
docker rmi a1b2c3d4e5f6</code></pre>
            </div>

            <h3>Working with Containers</h3>

            <div class="code-header">List running containers</div>
            <div class="code-block">
<pre><code>docker ps
# Show all containers (including stopped)
docker ps -a
# or
docker container ls -a</code></pre>
            </div>

            <div class="code-header">Run a container</div>
            <div class="code-block">
<pre><code># Run in foreground
docker run nginx

# Run in background (detached mode)
docker run -d nginx

# Run with a custom name
docker run -d --name my-nginx nginx

# Run with port mapping
docker run -d -p 8080:80 nginx</code></pre>
            </div>

            <div class="code-header">Stop and start containers</div>
            <div class="code-block">
<pre><code># Stop a running container
docker stop my-nginx

# Start a stopped container
docker start my-nginx

# Restart a container
docker restart my-nginx</code></pre>
            </div>

            <div class="code-header">Remove containers</div>
            <div class="code-block">
<pre><code># Remove a stopped container
docker rm my-nginx

# Force remove a running container
docker rm -f my-nginx

# Remove all stopped containers
docker container prune</code></pre>
            </div>

            <h3>Getting Information</h3>

            <div class="code-header">View container logs</div>
            <div class="code-block">
<pre><code># View logs
docker logs my-nginx

# Follow logs (like tail -f)
docker logs -f my-nginx

# Show last 100 lines
docker logs --tail 100 my-nginx</code></pre>
            </div>

            <div class="code-header">Inspect container details</div>
            <div class="code-block">
<pre><code># Get detailed JSON information
docker inspect my-nginx

# Get specific field
docker inspect --format='{{.NetworkSettings.IPAddress}}' my-nginx</code></pre>
            </div>
        </section>

        <section class="content-section">
            <h2>Hands-on Exercise</h2>
            
            <div class="exercise">
                <h3>üìù Exercise: Run Your First Container</h3>
                <p>Let's put your knowledge into practice by running the classic "Hello World" container!</p>
                
                <ol class="exercise-steps">
                    <li>Run the hello-world container:</li>
                </ol>

                <div class="code-block">
<pre><code>docker run hello-world</code></pre>
                </div>

                <p>You should see output explaining what Docker did:</p>
                <ol>
                    <li>Docker client contacted the Docker daemon</li>
                    <li>Daemon pulled the "hello-world" image from Docker Hub</li>
                    <li>Daemon created a new container from that image</li>
                    <li>Daemon ran the container, which output the message</li>
                    <li>Container exited</li>
                </ol>

                <ol class="exercise-steps" start="2">
                    <li>Verify the image was downloaded:</li>
                </ol>

                <div class="code-block">
<pre><code>docker images</code></pre>
                </div>

                <ol class="exercise-steps" start="3">
                    <li>Check that the container ran and exited:</li>
                </ol>

                <div class="code-block">
<pre><code>docker ps -a</code></pre>
                </div>

                <ol class="exercise-steps" start="4">
                    <li>Now try running a more interactive container:</li>
                </ol>

                <div class="code-block">
<pre><code>docker run -it alpine sh</code></pre>
                </div>

                <p>This runs an Alpine Linux container and gives you a shell. Try some commands:</p>
                <div class="code-block">
<pre><code>ls
pwd
cat /etc/os-release
exit</code></pre>
                </div>
            </div>

            <div class="hint-box">
                <button class="hint-toggle">üí° Show Hint</button>
                <div class="hint-content">
                    <p><strong>Understanding the flags:</strong></p>
                    <ul>
                        <li><code>-i</code> (interactive): Keep STDIN open</li>
                        <li><code>-t</code> (tty): Allocate a pseudo-TTY</li>
                        <li><code>-d</code> (detached): Run in background</li>
                        <li><code>--name</code>: Assign a custom name</li>
                        <li><code>-p</code>: Publish ports (host:container)</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2>Knowledge Check</h2>
            
            <div class="quiz">
                <h3>üß† Quiz: Test Your Understanding</h3>
                
                <div class="quiz-question">
                    <p><strong>Question 1:</strong> What is the role of the Docker daemon?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" data-correct="false">
                            a) It provides the command-line interface for users
                        </div>
                        <div class="quiz-option" data-correct="true" data-explanation="Correct! The Docker daemon (dockerd) is the background service that manages all Docker objects.">
                            b) It manages Docker objects like containers, images, networks, and volumes
                        </div>
                        <div class="quiz-option" data-correct="false">
                            c) It stores Docker images
                        </div>
                        <div class="quiz-option" data-correct="false">
                            d) It provides web UI for Docker
                        </div>
                    </div>
                    <button class="btn btn-primary quiz-submit">Submit Answer</button>
                    <div class="quiz-feedback"></div>
                </div>
            </div>

            <div class="quiz">
                <div class="quiz-question">
                    <p><strong>Question 2:</strong> Which command shows all containers, including stopped ones?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" data-correct="false">
                            a) docker ps
                        </div>
                        <div class="quiz-option" data-correct="true" data-explanation="Correct! The -a flag shows all containers, not just running ones.">
                            b) docker ps -a
                        </div>
                        <div class="quiz-option" data-correct="false">
                            c) docker container show
                        </div>
                        <div class="quiz-option" data-correct="false">
                            d) docker list all
                        </div>
                    </div>
                    <button class="btn btn-primary quiz-submit">Submit Answer</button>
                    <div class="quiz-feedback"></div>
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2>Summary</h2>
            <p>In this module, you learned about Docker's architecture and essential CLI commands:</p>
            <ul>
                <li>Docker uses a client-server architecture with the client communicating via REST API</li>
                <li>The Docker daemon (dockerd) manages containers, images, networks, and volumes</li>
                <li>Docker Registry (like Docker Hub) stores and distributes images</li>
                <li>Basic commands for managing images and containers</li>
                <li>How to run, stop, and remove containers</li>
            </ul>

            <div class="info-box">
                <h4>üéì Next Steps</h4>
                <p>
                    Now that you understand Docker's architecture and basic CLI commands, you're ready to learn about 
                    images in depth. In Module 3, we'll explore how to create custom images using Dockerfiles!
                </p>
            </div>
        </section>

        <div class="module-nav" style="margin-top: 3rem;">
            <a href="module1.html" class="btn btn-secondary">‚Üê Previous: Containers & VMs</a>
            <a href="module3.html" class="btn btn-primary">Next: Images & Creation ‚Üí</a>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Interactive Docker Course. Module 2: Docker Architecture and CLI Fundamentals</p>
        </div>
    </footer>

    <script src="../script.js"></script>
</body>
</html>
